<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Combine multiple routes for sequential routing — RouteStack • routr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Combine multiple routes for sequential routing — RouteStack"><meta property="og:description" content="The RouteStack class encapsulate multiple Routes and lets a request be
passed through each sequentially. If a route is returning FALSE upon
dispatch further dispatching is cancelled."><meta property="og:image" content="https://routr.data-imaginist.com/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">routr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.data-imaginist.com/2017/introducing-routr/" class="external-link">Version 0.2.0</a>
    </li>
    <li class="divider">
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://fiery.data-imaginist.com" class="external-link">fiery</a>
</li>
<li>
  <a href="https://reqres.data-imaginist.com" class="external-link">reqres</a>
</li>
<li>
  <a href="https://github.com/thomasp85/reqres" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Combine multiple routes for sequential routing</h1>
    <small class="dont-index">Source: <a href="https://github.com/thomasp85/routr/blob/HEAD/R/routestack.R" class="external-link"><code>R/routestack.R</code></a></small>
    <div class="hidden name"><code>RouteStack.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>RouteStack</code> class encapsulate multiple <a href="Route.html">Route</a>s and lets a request be
passed through each sequentially. If a route is returning <code>FALSE</code> upon
dispatch further dispatching is cancelled.</p>
    </div>


    <div id="initialization">
    <h2>Initialization</h2>
    

<p>A new 'RouteStack'-object is initialized using the <code>new()</code> method on the
generator:</p>
<p><strong>Usage</strong></p><table class="table table"><tr><td><code>route &lt;- RouteStack$new(..., path_extractor = function(msg, bin) '/')</code></td></tr></table><p><strong>Arguments</strong></p><table class="table table"><tr><td><code>...</code></td><td></td><td>Routes to add up front. Must be in the form of named
arguments containing <code>Route</code> objects.</td></tr><tr><td><code>path_extractor</code></td><td></td><td>A function that returns a path to dispatch
on from a WebSocket message. Will only be used if
<code>attach_to == 'message'</code>. Defaults to a function returning <code>'/'</code></td></tr></table></div>
    <div id="field">
    <h2>Field</h2>
    

<p>The following fields are accessible in a <code>RouteStack</code> object:</p>
<dl><dt><code>attach_to</code></dt>
<dd><p>Either <code>"request"</code> (default), <code>"header"</code>, or <code>"message"</code>
that defines which event the router should be attached to when used as a
<code>fiery</code> plugin.</p></dd>

<dt><code>name</code></dt>
<dd><p>The plugin name (used by <code>fiery</code>). Will return <code>'&lt;attach_to&gt;_routr'</code> (e.g. <code>'request_routr'</code> if <code>attach_to == 'request'</code>)</p></dd>


</dl></div>
    <div id="methods">
    <h2>Methods</h2>
    

<p>The following methods are accessible in a <code>RouteStack</code> object:</p>
<dl><dt><code>add_route(route, name, after = NULL)</code></dt>
<dd><p>Adds a new route to the stack.
<code>route</code> must be a <code>Route</code> object, <code>name</code> must be a string. If <code>after</code> is
given the route will be inserted after the given index, if not (or <code>NULL</code>)
it will be inserted in the end of the stack.</p></dd>

<dt><code>has_route(name)</code></dt>
<dd><p>Test if the routestack contains a route with the
given name.</p></dd>

<dt><code>remove(name)</code></dt>
<dd><p>Removes the route with the given name from the stack.</p></dd>

<dt><code>dispatch(request, ...)</code></dt>
<dd><p>Passes a <a href="https://reqres.data-imaginist.com/reference/Request.html" class="external-link">reqres::Request</a> through the stack
of routes in sequence until one of the routes return <code>FALSE</code> or every route
have been passed through. <code>...</code> will be passed on to the dispatch of each
<code>Route</code> on the stack.</p></dd>

<dt><code>on_error(fun)</code></dt>
<dd><p>Set the error handling function. This must be a
function that accepts an <code>error</code>, <code>request</code>, and <code>reponse</code> argument. The
error handler will be called if any of the route handlers throws an error
and can be used to modify the <code>500</code> response before it is send back. By
default, the error will be signaled using <code>message</code></p></dd>

<dt><code>on_attach(app, on_error = NULL, ...)</code></dt>
<dd><p>Method for use by <code>fiery</code> when
attached as a plugin. Should not be called directly.</p></dd>


</dl></div>
    <div id="fiery-plugin">
    <h2>Fiery plugin</h2>
    

<p>A <code>RouteStack</code> object is a valid <code>fiery</code> plugin and can thus be passed in to
the <code><a href="https://rdrr.io/r/base/attach.html" class="external-link">attach()</a></code> method of a <code>Fire</code> object. When used as a fiery plugin it is
important to be concious for what event it is attached to. By default it will
be attached to the <code>request</code> event and thus be used to handle HTTP request
messaging. An alternative is to attach it to the <code>header</code> event that is fired
when all headers have been recieved but before the body is. This allows you
to short-circuit request handling and e.g. reject requests above a certain
size. When the router is attached to the <code>header</code> event any handler returning
<code>FALSE</code> will signal that further handling of the request should be stopped
and the response in its current form should be returned without fetching the
request body.</p>
<p>One last possibility is to attach it to the <code>message</code> event and thus use it
to handle WebSocket messages. This use case is a bit different from that of
<code>request</code> and <code>header</code>. As <code>routr</code> uses <code>Request</code> objects as a vessel between
routes and WebSocket messages are not HTTP requests, some modification is
needed. The way <code>routr</code> achieves this is be modifying the HTTP request that
established the WebSocket connection and send this through the routes. Using
the <code>path_extractor</code> function provided in the <code>RouteStack</code> constructor it
will extract a path to dispatch on and assign it to the request. Furthermore
it assigns the message to the body of the request and sets the <code>Content-Type</code>
header based on whether the message is binary <code>application/octet-stream</code> or
not <code>text/plain</code>. As WebSocket communication is asynchronous the response is
ignored when attached to the <code>message</code> event. If communication should be send
back, use <code>server$send()</code> inside the handler(s).</p>
<p>How a <code>RouteStack</code> is attached is defined by the <code>attach_to</code> field which must
be either <code>'request'</code>, <code>'header'</code>, or <code>'message'</code>.</p>
<p>When attaching the <code>RouteStack</code> it is possible to modify how errors are
handled, using the <code>on_error</code> argument, which will change the error handler
set on the <code>RouteStack</code>. By default the error handler will be changed to
using the <code>fiery</code> logging system if the <code>Fire</code> object supports it.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="Route.html">Route</a> for defining single routes</p></div>
    </div>
    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-RouteStack-new"><code>RouteStack$new()</code></a></p></li>
<li><p><a href="#method-RouteStack-print"><code>RouteStack$print()</code></a></p></li>
<li><p><a href="#method-RouteStack-add_route"><code>RouteStack$add_route()</code></a></p></li>
<li><p><a href="#method-RouteStack-get_route"><code>RouteStack$get_route()</code></a></p></li>
<li><p><a href="#method-RouteStack-has_route"><code>RouteStack$has_route()</code></a></p></li>
<li><p><a href="#method-RouteStack-remove_route"><code>RouteStack$remove_route()</code></a></p></li>
<li><p><a href="#method-RouteStack-dispatch"><code>RouteStack$dispatch()</code></a></p></li>
<li><p><a href="#method-RouteStack-on_attach"><code>RouteStack$on_attach()</code></a></p></li>
<li><p><a href="#method-RouteStack-on_error"><code>RouteStack$on_error()</code></a></p></li>
<li><p><a href="#method-RouteStack-clone"><code>RouteStack$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-RouteStack-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>

<div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/RouteStack.html">RouteStack</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">...</span>, path_extractor <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">msg</span>, <span class="va">bin</span><span class="op">)</span> <span class="st">"/"</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-RouteStack-print"></a><div class="section">
<h3 id="method-print-">Method <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code><a class="anchor" aria-label="anchor" href="#method-print-"></a></h3>

<div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">RouteStack</span><span class="op">$</span><span class="fu">print</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-RouteStack-add_route"></a><div class="section">
<h3 id="method-add-route-">Method <code>add_route()</code><a class="anchor" aria-label="anchor" href="#method-add-route-"></a></h3>

<div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">RouteStack</span><span class="op">$</span><span class="fu">add_route</span><span class="op">(</span><span class="va">route</span>, <span class="va">name</span>, after <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-RouteStack-get_route"></a><div class="section">
<h3 id="method-get-route-">Method <code>get_route()</code><a class="anchor" aria-label="anchor" href="#method-get-route-"></a></h3>

<div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">RouteStack</span><span class="op">$</span><span class="fu">get_route</span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-RouteStack-has_route"></a><div class="section">
<h3 id="method-has-route-">Method <code>has_route()</code><a class="anchor" aria-label="anchor" href="#method-has-route-"></a></h3>

<div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">RouteStack</span><span class="op">$</span><span class="fu">has_route</span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-RouteStack-remove_route"></a><div class="section">
<h3 id="method-remove-route-">Method <code>remove_route()</code><a class="anchor" aria-label="anchor" href="#method-remove-route-"></a></h3>

<div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">RouteStack</span><span class="op">$</span><span class="fu">remove_route</span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-RouteStack-dispatch"></a><div class="section">
<h3 id="method-dispatch-">Method <code>dispatch()</code><a class="anchor" aria-label="anchor" href="#method-dispatch-"></a></h3>

<div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">RouteStack</span><span class="op">$</span><span class="fu">dispatch</span><span class="op">(</span><span class="va">request</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-RouteStack-on_attach"></a><div class="section">
<h3 id="method-on-attach-">Method <code>on_attach()</code><a class="anchor" aria-label="anchor" href="#method-on-attach-"></a></h3>

<div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">RouteStack</span><span class="op">$</span><span class="fu">on_attach</span><span class="op">(</span><span class="va">app</span>, on_error <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-RouteStack-on_error"></a><div class="section">
<h3 id="method-on-error-">Method <code>on_error()</code><a class="anchor" aria-label="anchor" href="#method-on-error-"></a></h3>

<div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">RouteStack</span><span class="op">$</span><span class="fu">on_error</span><span class="op">(</span><span class="va">fun</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-RouteStack-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">RouteStack</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create a new stack</span></span></span>
<span class="r-in"><span><span class="va">routes</span> <span class="op">&lt;-</span> <span class="va">RouteStack</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Populate it wih routes</span></span></span>
<span class="r-in"><span><span class="va">first</span> <span class="op">&lt;-</span> <span class="va"><a href="Route.html">Route</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">first</span><span class="op">$</span><span class="fu">add_handler</span><span class="op">(</span><span class="st">'all'</span>, <span class="st">'*'</span>, <span class="kw">function</span><span class="op">(</span><span class="va">request</span>, <span class="va">response</span>, <span class="va">keys</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">'This will always get called first'</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">second</span> <span class="op">&lt;-</span> <span class="va"><a href="Route.html">Route</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">second</span><span class="op">$</span><span class="fu">add_handler</span><span class="op">(</span><span class="st">'get'</span>, <span class="st">'/demo/'</span>, <span class="kw">function</span><span class="op">(</span><span class="va">request</span>, <span class="va">response</span>, <span class="va">keys</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">'This will get called next if the request asks for /demo/'</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">routes</span><span class="op">$</span><span class="fu">add_route</span><span class="op">(</span><span class="va">first</span>, <span class="st">'first'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">routes</span><span class="op">$</span><span class="fu">add_route</span><span class="op">(</span><span class="va">second</span>, <span class="st">'second'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Send a request through</span></span></span>
<span class="r-in"><span><span class="va">rook</span> <span class="op">&lt;-</span> <span class="fu">fiery</span><span class="fu">::</span><span class="fu"><a href="https://fiery.data-imaginist.com/reference/fake_request.html" class="external-link">fake_request</a></span><span class="op">(</span><span class="st">'http://example.com/demo/'</span>, method <span class="op">=</span> <span class="st">'get'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">req</span> <span class="op">&lt;-</span> <span class="fu">reqres</span><span class="fu">::</span><span class="va"><a href="https://reqres.data-imaginist.com/reference/Request.html" class="external-link">Request</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">rook</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">routes</span><span class="op">$</span><span class="fu">dispatch</span><span class="op">(</span><span class="va">req</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> This will always get called first</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> This will get called next if the request asks for /demo/</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

